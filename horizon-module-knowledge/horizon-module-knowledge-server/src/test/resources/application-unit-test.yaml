spring:
  main:
    lazy-initialization: true   # 开启懒加载，加快单测启动
    banner-mode: off            # 单测禁用 Banner

  # 数据源（H2，PostgreSQL 模式）
  datasource:
    name: horizon-knowledge
    url: jdbc:h2:mem:testdb;MODE=PostgreSQL;DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    driver-class-name: org.h2.Driver
    username: sa
    password:
    druid:
      async-init: true
      initial-size: 1

  sql:
    init:
      schema-locations: classpath:/sql/create_tables.sql  # 你的建表脚本路径

  # Redis（用于 BaseRedis/BaseDbAndRedis 单测；只测 DB 可忽略）
  redis:
    host: 127.0.0.1
    port: 16379         # 配合内存 mock-redis，避免占用 6379
    database: 0

mybatis-plus:
  lazy-initialization: true
  type-aliases-package: ${horizon.info.base-package}.dal.dataobject
  global-config:
    db-config:
      id-type: AUTO     # H2/PG 单测下可用

# 关键：改成知识模块包
horizon:
  info:
    base-package: org.horizon.module.knowledge